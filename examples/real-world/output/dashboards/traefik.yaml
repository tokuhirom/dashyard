title: "Traefik"
rows:
  - title: "Overview"
    panels:
      - title: "Traefik"
        type: markdown
        content: |
          Traefik reverse proxy metrics.
          Monitors entrypoint, router, and service-level request rates, latencies, and traffic volumes.
        span: 12

  - title: "Entrypoint - Request Rate & Duration"
    panels:
      - title: "Entrypoint Request Rate"
        type: graph
        query: 'rate(traefik_entrypoint_requests_total[5m])'
        unit: count
        chart_type: bar
        y_min: 0
      - title: "Entrypoint Request Duration p99"
        type: graph
        query: 'histogram_quantile(0.99, sum by (le)(rate(traefik_entrypoint_request_duration_seconds_bucket[5m])))'
        unit: seconds
        y_min: 0

  - title: "Entrypoint - Traffic"
    panels:
      - title: "Entrypoint Request Bytes Rate"
        type: graph
        query: 'rate(traefik_entrypoint_requests_bytes_total[5m])'
        unit: bytes
        y_min: 0
      - title: "Entrypoint Response Bytes Rate"
        type: graph
        query: 'rate(traefik_entrypoint_responses_bytes_total[5m])'
        unit: bytes
        y_min: 0

  - title: "Router - Request Rate & Duration"
    panels:
      - title: "Router Request Rate"
        type: graph
        query: 'rate(traefik_router_requests_total[5m])'
        unit: count
        chart_type: bar
        y_min: 0
      - title: "Router Request Duration p99"
        type: graph
        query: 'histogram_quantile(0.99, sum by (le)(rate(traefik_router_request_duration_seconds_bucket[5m])))'
        unit: seconds
        y_min: 0

  - title: "Router - Traffic"
    panels:
      - title: "Router Request Bytes Rate"
        type: graph
        query: 'rate(traefik_router_requests_bytes_total[5m])'
        unit: bytes
        y_min: 0
      - title: "Router Response Bytes Rate"
        type: graph
        query: 'rate(traefik_router_responses_bytes_total[5m])'
        unit: bytes
        y_min: 0

  - title: "Service - Request Rate & Duration"
    panels:
      - title: "Service Request Rate"
        type: graph
        query: 'rate(traefik_service_requests_total[5m])'
        unit: count
        chart_type: bar
        y_min: 0
      - title: "Service Request Duration p99"
        type: graph
        query: 'histogram_quantile(0.99, sum by (le)(rate(traefik_service_request_duration_seconds_bucket[5m])))'
        unit: seconds
        y_min: 0

  - title: "Service - Traffic"
    panels:
      - title: "Service Request Bytes Rate"
        type: graph
        query: 'rate(traefik_service_requests_bytes_total[5m])'
        unit: bytes
        y_min: 0
      - title: "Service Response Bytes Rate"
        type: graph
        query: 'rate(traefik_service_responses_bytes_total[5m])'
        unit: bytes
        y_min: 0

  - title: "Connections & Config"
    panels:
      - title: "Open Connections"
        type: graph
        query: 'traefik_open_connections'
        unit: count
        legend: "{entrypoint}"
        y_min: 0
      - title: "Config Reload Rate"
        type: graph
        query: 'rate(traefik_config_reloads_total[5m])'
        unit: count
        chart_type: bar
        y_min: 0
